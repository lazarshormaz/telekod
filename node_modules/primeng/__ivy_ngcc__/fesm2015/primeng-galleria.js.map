{"version":3,"file":"primeng-galleria.js","sources":["ng:/primeng/galleria/galleria.ts","ng:/primeng/galleria/primeng-galleria.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterViewChecked,AfterViewInit,OnDestroy,Input,Output,EventEmitter,ChangeDetectionStrategy} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from 'primeng/dom';\n\n@Component({\n    selector: 'p-galleria',\n    template: `\n        <div [ngClass]=\"{'ui-galleria ui-widget ui-widget-content ui-corner-all':true}\" [ngStyle]=\"style\" [class]=\"styleClass\" [style.width.px]=\"panelWidth\">\n            <ul class=\"ui-galleria-panel-wrapper\" [style.width.px]=\"panelWidth\" [style.height.px]=\"panelHeight\">\n                <li *ngFor=\"let image of images;let i=index\" class=\"ui-galleria-panel\" [ngClass]=\"{'ui-helper-hidden':i!=activeIndex}\"\n                    [style.width.px]=\"panelWidth\" [style.height.px]=\"panelHeight\" (click)=\"clickImage($event,image,i)\">\n                    <img class=\"ui-panel-images\" [src]=\"image.source\" [alt]=\"image.alt\" [title]=\"image.title\"/>\n                </li>\n            </ul>\n            <div [ngClass]=\"{'ui-galleria-filmstrip-wrapper':true}\" *ngIf=\"showFilmstrip\">\n                <ul class=\"ui-galleria-filmstrip\" style=\"transition:left 1s\" [style.left.px]=\"stripLeft\">\n                    <li #frame *ngFor=\"let image of images;let i=index\" [ngClass]=\"{'ui-galleria-frame-active':i==activeIndex}\" class=\"ui-galleria-frame\" (click)=\"frameClick(frame)\"\n                        [style.width.px]=\"frameWidth\" [style.height.px]=\"frameHeight\" [style.transition]=\"'opacity 0.75s ease'\">\n                        <div class=\"ui-galleria-frame-content\">\n                            <img [src]=\"image.source\" [alt]=\"image.alt\" [title]=\"image.title\" class=\"ui-galleria-frame-image\"\n                                [style.width.px]=\"frameWidth\" [style.height.px]=\"frameHeight\">\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"ui-galleria-nav-prev pi pi-fw pi-chevron-left\" (click)=\"clickNavLeft()\" [style.bottom.px]=\"frameHeight/2\" *ngIf=\"activeIndex !== 0\"></div>\n            <div class=\"ui-galleria-nav-next pi pi-fw pi-chevron-right\" (click)=\"clickNavRight()\" [style.bottom.px]=\"frameHeight/2\"></div>\n            <div class=\"ui-galleria-caption\" *ngIf=\"showCaption&&images\" style=\"display:block\">\n                <h4>{{images[activeIndex]?.title}}</h4><p>{{images[activeIndex]?.alt}}</p>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.Default\n})\nexport class Galleria implements AfterViewChecked,AfterViewInit,OnDestroy {\n        \n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() panelWidth: number = 600;\n\n    @Input() panelHeight: number = 400;\n\n    @Input() frameWidth: number = 60;\n    \n    @Input() frameHeight: number = 40;\n\n    @Input() activeIndex: number = 0;\n\n    @Input() showFilmstrip: boolean = true;\n\n    @Input() autoPlay: boolean = true;\n\n    @Input() transitionInterval: number = 4000;\n\n    @Input() showCaption: boolean = true;\n\n    @Input() effectDuration: number = 500;\n    \n    @Output() onImageClicked = new EventEmitter();\n\n    @Output() onImageChange = new EventEmitter();\n    \n    _images: any[];\n    \n    slideshowActive: boolean;\n    \n    public container: any;\n    \n    public panelWrapper: any;\n    \n    public panels: any;\n    \n    public caption: any;\n    \n    public stripWrapper: any;\n    \n    public strip: any;\n    \n    public frames: any;\n    \n    public interval: any;\n    \n    public stripLeft: number = 0;\n    \n    public imagesChanged: boolean;\n    \n    public initialized: boolean;\n\n    constructor(public el: ElementRef) {}\n    \n    ngAfterViewChecked() {\n        if (this.imagesChanged) {\n            this.stopSlideshow();\n            Promise.resolve(null).then(() => {\n                this.render();\n                this.imagesChanged = false;\n            });\n        }\n    }\n\n    @Input() get images(): any[] {\n        return this._images;\n    }\n    set images(value:any[]) {\n        this._images = value;\n        this.imagesChanged = true;\n\n        if (this.initialized) {\n            this.activeIndex = 0;\n        }\n    }\n        \n    ngAfterViewInit() {\n        this.container = this.el.nativeElement.children[0];\n        this.panelWrapper = DomHandler.findSingle(this.el.nativeElement, 'ul.ui-galleria-panel-wrapper');\n        this.initialized = true;\n        \n        if (this.showFilmstrip) {\n            this.stripWrapper = DomHandler.findSingle(this.container,'div.ui-galleria-filmstrip-wrapper');\n            this.strip = DomHandler.findSingle(this.stripWrapper,'ul.ui-galleria-filmstrip');\n        }\n        \n        if (this.images && this.images.length) {\n            this.render();\n        } \n    }\n    \n    render() {\n        this.panels = DomHandler.find(this.panelWrapper, 'li.ui-galleria-panel'); \n        \n        if (this.showFilmstrip) {\n            this.frames = DomHandler.find(this.strip,'li.ui-galleria-frame');\n            this.stripWrapper.style.width = DomHandler.width(this.panelWrapper) - 50 + 'px';\n            this.stripWrapper.style.height = this.frameHeight + 'px';\n        }\n        \n        if (this.showCaption) {\n            this.caption = DomHandler.findSingle(this.container,'div.ui-galleria-caption');\n            this.caption.style.bottom = this.showFilmstrip ? DomHandler.getOuterHeight(this.stripWrapper,true) + 'px' : 0 + 'px';\n            this.caption.style.width = DomHandler.width(this.panelWrapper) + 'px';\n        }\n   \n        if (this.autoPlay) {\n            this.startSlideshow();\n        }\n        \n        this.container.style.visibility = 'visible';\n    }\n    \n    startSlideshow() {\n        this.interval = setInterval(() => {\n            this.next();\n        }, this.transitionInterval);\n        \n        this.slideshowActive = true;\n    }\n        \n    stopSlideshow() {\n        if (this.interval) {\n            clearInterval(this.interval);\n        }\n        \n        this.slideshowActive = false;\n    }\n    \n    clickNavRight() {\n        if (this.slideshowActive) {\n            this.stopSlideshow();\n        }\n        this.next();\n    } \n    \n    clickNavLeft() {\n        if (this.slideshowActive) {\n            this.stopSlideshow();\n        }\n        this.prev();\n    }\n    \n    frameClick(frame) {\n        if (this.slideshowActive) {\n            this.stopSlideshow();\n        }\n        \n        this.select(DomHandler.index(frame), false);\n    }\n    \n    prev() {\n        if (this.activeIndex !== 0) {\n            this.select(this.activeIndex - 1, true);\n        }\n    }\n    \n    next() {\n        if (this.activeIndex !== (this.panels.length-1)) {\n            this.select(this.activeIndex + 1, true);\n        }\n        else {\n            this.select(0, false);\n            this.stripLeft = 0;\n        }\n    }\n        \n    select(index, reposition) {\n        if (index !== this.activeIndex) {            \n            let oldPanel = this.panels[this.activeIndex],\n            newPanel = this.panels[index];\n            \n            DomHandler.fadeIn(newPanel, this.effectDuration);\n            \n            if (this.showFilmstrip) {\n                let oldFrame = this.frames[this.activeIndex],\n                newFrame = this.frames[index];\n                \n                if (reposition === undefined || reposition === true) {\n                    let frameLeft = newFrame.offsetLeft,\n                    stepFactor = this.frameWidth + parseInt(getComputedStyle(newFrame)['margin-right'], 10),\n                    stripLeft = this.strip.offsetLeft,\n                    frameViewportLeft = frameLeft + stripLeft,\n                    frameViewportRight = frameViewportLeft + this.frameWidth;\n                    \n                    if (frameViewportRight > DomHandler.width(this.stripWrapper))\n                        this.stripLeft -= stepFactor;\n                    else if (frameViewportLeft < 0)\n                        this.stripLeft += stepFactor;\n                }\n            }\n            \n            this.activeIndex = index;\n\n            this.onImageChange.emit({index: index});\n        }\n    }\n    \n    clickImage(event, image, i) {\n        this.onImageClicked.emit({originalEvent: event, image: image, index: i})\n    }\n        \n    ngOnDestroy() {\n        this.stopSlideshow();\n    }\n\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [Galleria],\n    declarations: [Galleria]\n})\nexport class GalleriaModule { }","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}